include /image_mixin.pug
include /space_mixin.pug
include /sortCollection.pug

doctype html
html(class="")
    head
        title Jérôme Stephan - #{title}

        meta(name="theme-color" content="orangered")
        meta(name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no")
        meta(http-equiv="Content-Type" content="text/html; charset=utf-8")
        meta(name="robots" content="index, follow")
        meta(name="description" content="Jérôme Stephan is a programmer and artist based in and around Berlin, Germany. Keen on using every opportunity to learn more.")

        script.
            function color_toggle() {
                const event = new Event('color_change');
                if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)){
                    localStorage.theme = 'light';
                    document.documentElement.classList.remove('dark');
                    event.value='light';
                }
                else  {
                    localStorage.theme = 'dark';
                    document.documentElement.classList.add('dark');
                    event.value='dark';
                }
                event.key = "color"; // Optional..
                document.dispatchEvent(event);
            }
            if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                document.documentElement.classList.add('dark')
            } else {
                document.documentElement.classList.remove('dark')
            }


        link(rel='stylesheet', type='text/css', href='/css/style.css')
        //- make fonts have priority over images
        link(rel='preload', as="font", type="font/woff2", href="/fonts/subset-IconFont-Regular.woff2", crossorigin)
        link(rel='preload', as="font", type="font/woff2", href="/fonts/subset-Freizeit-Regular.woff2", crossorigin)
        link(rel='preload', as="font", type="font/woff2", href="/fonts/subset-Freizeit-Bold.woff2", crossorigin)
    body(class=" \
        pt-[10vh] \
        selection:bg-darkslateblue \
        selection:text-orangered \
        bg-bg dark:bg-dark-bg \
        dark:text-white \
        font-freizeit \
        md:cursor-custom md:dark:cursor-custom-dark")

        //header+footer
        include /navbar.pug

        div(class="p-3 max-w-screen-3xl m-auto")
            block content
        
        script(type="module" src="/js/main.js")